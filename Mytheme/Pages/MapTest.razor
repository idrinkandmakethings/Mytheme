@page "/maptest"
@using System.IO
@using Mytheme.Data

@inject FileHandlerService FileHandlerService

<div>
    <button @onclick="@(async () => await LoadImage())">Load</button>
</div>
<div>
    <TestMap WindowSize="@windowSize"
             @ref="@mapView"></TestMap>
</div>
@code {
    WindowSize windowSize;

    TestMap mapView;

    protected override void OnInitialized()
    {
        windowSize = new WindowSize
        {
            Height = 800,
            Width =  1200
        };
    }

    protected async Task LoadImage()
    {

        var img = await FileHandlerService.GetBase64Image("9009f927-f03e-4cb7-b18f-43acd1d12091.png");

        mapView.LoadImage(img).Wait();
    }
}
